#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include<windows.h>
#include <conio.h>


#define MAZE_BOARD_HEIGHT 41
#define MAZE_BOARD_WIDTH 23
#define MAIN_BUTTON_HEIGHT 3
#define MAIN_BUTTON_WIDTH 15

int maze[MAZE_BOARD_HEIGHT][MAZE_BOARD_WIDTH] = {
	{ '9' },
	{ '9' },
{ '9','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','2' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','3','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3' },
{ '9','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','2' }
};

int mainButton[MAIN_BUTTON_HEIGHT][MAIN_BUTTON_WIDTH] = {
	{'2','1','1','1','1','1','1','1','1','1','1','1','1','1','2'},
	{'3','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
	{'2','1','1','1','1','1','1','1','1','1','1','1','1','1','2' }
};

void gotoxy(int x, int y) {
	COORD Pos = { x - 1, y - 1 };
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), Pos);
}

void mainView() {
	int x, y;
	for (y = 0; y < MAZE_BOARD_HEIGHT; y++)
	{
		for (x = 0; x < MAZE_BOARD_WIDTH; x++)
		{
			if (maze[y][x] == '1')
				printf("---------");
			if (maze[y][x] == '0')
				printf("         ");
			if (maze[y][x] == '2')
				printf("+");
			if (maze[y][x] == '3')
				printf("|");
			if (maze[y][x] == '9')
				printf("        ");
		}
		printf("\n");
	}
}

void main() {
	system("mode con cols=160 lines=50");
	system("title 콘솔c캐슬");
	mainView();
	
	int key;
	gotoxy(18, 7);
	printf("게임 설명 *** \n");
	gotoxy(15, 10);
	printf("위 게임은 작년 tvN에서 방영된 드라마 \'스카이캐슬\'를 패러디한 게임으로 각 집안의 주요사건들을 조금씩 각색해 사용자가 선택을 하여 각각의 ");
	gotoxy(15, 12);
	printf("엔딩을 보는 게임입니다. 네 명의 등장인물들을 중심으로 이루어진 이야기로 주로 게임 캐릭터들과의 대화를 통해 문제를 해결해 나갑니다.");
	gotoxy(15, 14);
	printf("기준이와 서준이, 예서 그리고 우주가 해피엔딩을 맞을 수 있도록 도와주세요 !");

	gotoxy(18, 23);
	printf("게임 방법 ***");
	gotoxy(15, 26);
	printf("대화 도중에 나타나는 선택지들 중에서 알맞는 선택지를 선택합니다.");
	gotoxy(15, 28);
	printf("↑(위 방향키),↓(아래 방향키)를 이용하여 여러가지 선택지 중에서 고릅니다.");
	gotoxy(15, 30);
	printf("다음으로 넘어가기 위해서는 ENTER 키를 누릅니다.");
	gotoxy(15, 32);
	printf("* 우주의 이야기 중 미로게임의 경우 →, ←, ↑, ↓ 키 4가지를 이용하여 이동합니다.");
	gotoxy(15, 34);
	printf("올바른 선택을 할 경우 해피엔딩을 맞고 틀린 선택을 할 경우 배드엔딩을 겪게 됩니다.");
		    
/*
- 기준서준이네 : 피라미드를 깨버려라 !

- 예서네 : 우주의 마음을 얻어라 !

- 우주네 : 정말 우주가 혜나 살인사건의 범인일까 ?
*/
	

	gotoxy(140, 39);
	printf("+-------------+");
	gotoxy(140, 40);
	printf("|             |");
	gotoxy(140, 41);
	printf("+-------------+");
	gotoxy(142, 40); printf("홈 화면 (H)");

	key = _getch();
	if(key == 72 || key == 104){
		system("cls");
		printf("다시 메인 화면"); //Back to storyGame.cpp
	}
	system("pause>null");
}